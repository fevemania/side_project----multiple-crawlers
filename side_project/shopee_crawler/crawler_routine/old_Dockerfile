FROM python
RUN apt-get update && apt-get -y install cron
COPY wait-for-it.sh wait-for-it.sh
RUN chmod +x ./wait-for-it.sh
COPY shopee_crawler/requirements.txt requirements.txt
RUN pip install -r requirements.txt 
COPY shopee_crawler/crawler_routine/send_categories.py send_categories.py
COPY shopee_crawler/crawler_routine/environment environment
COPY shopee_crawler/crawler_routine/cronjobs /etc/cron.d/cronjobs
COPY shopee_crawler/crawler_routine/crontab.sh crontab.sh
RUN chmod 0644 crontab.sh
RUN chmod 0644 /etc/cron.d/cronjobs && crontab /etc/cron.d/cronjobs
